@model SortedBooksViewModel
@using WebMaze.Models.Enums

@section Scripts{
    <script src="~/js/bookfilter.js"></script>
    <link rel="stylesheet" href="~/css/bookButtons.css" />
}

<fieldset class="book">
    <legend><b>Books:</b></legend>

    <div class="buttons-block">
        <b class="text1">Sort by:</b>
        <div class="buttons-bl">
            <a href="@Url.Action("Book", "Home", new { bookFilter = "Name", asc = (Model.BookFilter == "Name" ? !Model.Asc : true) })" class="button" data-button-type="bookName">Book name</a>
            <a href="@Url.Action("Book", "Home", new { bookFilter = "Author", asc = (Model.BookFilter == "Author" ? !Model.Asc : true) })" class="button" data-button-type="author">Author</a>

            <div class="date-buttons">
                <div class="text2">
                    Release Date
                </div>
                <div class="buttons-block2">
                    <a href="@Url.Action("Book", "Home", new { bookFilter = "OldDate", asc = (Model.BookFilter == "OldDate" ? !Model.Asc : true) })" class="button" data-button-type="oldDate">From oldest to newest</a>
                    <a href="@Url.Action("Book", "Home", new { bookFilter = "NewDate", asc = (Model.BookFilter == "NewDate" ? !Model.Asc : false) })" class="button" data-button-type="newDate">From newest to oldest</a>
                </div>
            </div>
            <a href="@Url.Action("Book", "Home", new { bookFilter = "Creator.Name", asc = (Model.BookFilter == "Creator.Name" ? !Model.Asc : true) })" class="button" data-button-type="creator">Creator of the record</a>
        </div>
    </div>

    <div>
        @foreach (var book in Model.Books)
        {
            <details>
                <summary>
                    @book.Name<div id="publicationDate">Publicated: @book.PublicationDate</div>
                </summary>
                <div class="desc">
                    <div class="block">
                        <div class="block_inner">
                            @if (book.ImageLink != null)
                            {
                                <img src="@book.ImageLink" class="image">
                            }
                            @if (book.ImageLink == null)
                            {
                                <img src="~/images/NoImage.jpg" class="image">
                            }
                        </div>
                    </div>
                    <div class="elements">
                        <p>
                            <b>Author:</b> @book.Author
                        </p>
                        <p>
                            <b>Release Date: </b> @book.ReleaseDate
                        </p>
                    </div>
                    <div class="desc1">
                        <p><b>Description:</b></p>
                        <p>@book.Desc</p>
                    </div>
                    <div class="link">
                        @if (book.Link != null)
                        {
                            <b><a href="@book.Link" target="_blank">Link</a></b>
                        }
                    </div>
                </div>
            </details>
        }
    </div>
</fieldset>
