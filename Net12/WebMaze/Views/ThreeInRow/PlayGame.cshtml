@using WebMaze.Models.ThreeInRow
@model ThreeInRowGameFieldViewModel

@section Scripts{ 
    <script src="~/js/threeInRow.js"></script>
}

<div class="content">
    <div class="game-field">
        @for (int y = 0; y < Model.Height; y++)
        {
            <div class="game-field-row">
                @for (int x = 0; x < Model.Width; x++)
                {
                    var cell = Model.Cells.SingleOrDefault(cell => cell.X == x && cell.Y == y);
                    if (cell.Color == "none")
                    {
                        <span class="game-field-cell none">
                            <a class="game-field-cell link" href="/ThreeInRow/Step?CellId=@cell.Id&GameId=@Model.Id"></a>
                        </span>
                    }
                    else if (cell.Color == "red")
                    {
                        <span class="game-field-cell red"> </span>
                    }
                    else if (cell.Color == "green")
                    {
                        <span class="game-field-cell green"> </span>
                    }
                    else if (cell.Color == "blue")
                    {
                        <span class="game-field-cell blue"> </span>
                    }
                    else if (cell.Color == "purple")
                    {
                        <span class="game-field-cell purple"> </span>
                    }
                    else
                    {
                        <span class="game-field-cell orange"> </span>
                    }
                }
            </div>
        }
    </div>

    <div class="info">
        <div class="info-next-color">
            Next Color: @Model.NextColor
        </div>
        <div>
            Score: @Model.Score
        </div>
        <div>
            <a href="/ThreeInRow/WelcomePage">Back</a>
        </div>
    </div>
</div>
